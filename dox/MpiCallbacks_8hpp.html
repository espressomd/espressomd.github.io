<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESPResSo: MpiCallbacks.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/AMSmath.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_100x100.png"/></td>
  <td id="projectalign">
   <div id="projectname">ESPResSo
   </div>
   <div id="projectbrief">Extensible Simulation Package for Research on Soft Matter Systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('MpiCallbacks_8hpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle"><div class="title">MpiCallbacks.hpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classCommunication_1_1MpiCallbacks.html">Communication::MpiCallbacks</a> manages MPI communication using a visitor pattern.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="NumeratedContainer_8hpp_source.html">utils/NumeratedContainer.hpp</a>&gt;</code><br />
<code>#include &lt;boost/mpi/collectives/broadcast.hpp&gt;</code><br />
<code>#include &lt;boost/mpi/communicator.hpp&gt;</code><br />
<code>#include &lt;boost/mpi/environment.hpp&gt;</code><br />
<code>#include &lt;boost/mpi/packed_iarchive.hpp&gt;</code><br />
<code>#include &lt;cassert&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;tuple&gt;</code><br />
<code>#include &lt;type_traits&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for MpiCallbacks.hpp:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="MpiCallbacks_8hpp__incl.svg" width="100%" height="448"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="MpiCallbacks_8hpp__dep__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="MpiCallbacks_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunication_1_1MpiCallbacks.html">Communication::MpiCallbacks</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The interface of the MPI callback mechanism.  <a href="classCommunication_1_1MpiCallbacks.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunication_1_1MpiCallbacks_1_1CallbackHandle.html">Communication::MpiCallbacks::CallbackHandle&lt; Args &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">RAII handle for a callback.  <a href="classCommunication_1_1MpiCallbacks_1_1CallbackHandle.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunication_1_1RegisterCallback.html">Communication::RegisterCallback</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper class to add callbacks before main.  <a href="classCommunication_1_1RegisterCallback.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceCommunication" id="r_namespaceCommunication"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceCommunication.html">Communication</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a311cdbbf8f48107f495d1d7faee051f2" id="r_a311cdbbf8f48107f495d1d7faee051f2"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="common__cuda_8cu.html#a2edcfbb6549e85581562bf5ed89d2008">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MpiCallbacks_8hpp.html#a311cdbbf8f48107f495d1d7faee051f2">REGISTER_CALLBACK</a>(<a class="el" href="common__cuda_8cu.html#a2edcfbb6549e85581562bf5ed89d2008">cb</a>)</td></tr>
<tr class="memdesc:a311cdbbf8f48107f495d1d7faee051f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a static callback without return value.  <br /></td></tr>
<tr class="separator:a311cdbbf8f48107f495d1d7faee051f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3f784aa3e698df24fd3af076d319eb3d" id="r_a3f784aa3e698df24fd3af076d319eb3d"><td class="memTemplParams" colspan="2">template&lt;class... Args&gt; </td></tr>
<tr class="memitem:a3f784aa3e698df24fd3af076d319eb3d"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="common__cuda_8cu.html#a2edcfbb6549e85581562bf5ed89d2008">using</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceCommunication.html#a3f784aa3e698df24fd3af076d319eb3d">Communication::CallbackHandle</a> = <a class="el" href="classCommunication_1_1MpiCallbacks_1_1CallbackHandle.html">MpiCallbacks::CallbackHandle</a>&lt; Args... &gt;</td></tr>
<tr class="separator:a3f784aa3e698df24fd3af076d319eb3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classCommunication_1_1MpiCallbacks.html">Communication::MpiCallbacks</a> manages MPI communication using a visitor pattern. </p>
<p>The program runs on the head node and is responsible for calling callback functions on the worker nodes when necessary, e.g. to broadcast global variables or run an algorithm in parallel.</p>
<p>Callbacks are registered on the head node as function pointers via the <a class="el" href="MpiCallbacks_8hpp.html#a311cdbbf8f48107f495d1d7faee051f2">REGISTER_CALLBACK</a>. The visitor pattern allows using arbitrary function signatures. </p>

<p class="definition">Definition in file <a class="el" href="MpiCallbacks_8hpp_source.html">MpiCallbacks.hpp</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a311cdbbf8f48107f495d1d7faee051f2" name="a311cdbbf8f48107f495d1d7faee051f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a311cdbbf8f48107f495d1d7faee051f2">&#9670;&#160;</a></span>REGISTER_CALLBACK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="common__cuda_8cu.html#a2edcfbb6549e85581562bf5ed89d2008">define</a> REGISTER_CALLBACK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="common__cuda_8cu.html#a2edcfbb6549e85581562bf5ed89d2008">cb</a></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code hl_namespace" href="namespaceCommunication.html">Communication</a> {                                                    \</div>
<div class="line">  static ::Communication::RegisterCallback <a class="code hl_variable" href="common__cuda_8cu.html#a2edcfbb6549e85581562bf5ed89d2008">register_</a>##<a class="code hl_variable" href="common__cuda_8cu.html#a2edcfbb6549e85581562bf5ed89d2008">cb</a>(&amp;(<a class="code hl_variable" href="common__cuda_8cu.html#a2edcfbb6549e85581562bf5ed89d2008">cb</a>));               \</div>
<div class="line">  }</div>
<div class="ttc" id="acommon__cuda_8cu_html_a2edcfbb6549e85581562bf5ed89d2008"><div class="ttname"><a href="common__cuda_8cu.html#a2edcfbb6549e85581562bf5ed89d2008">stream</a></div><div class="ttdeci">cudaStream_t stream[1]</div><div class="ttdoc">CUDA streams for parallel computing on CPU and GPU.</div><div class="ttdef"><b>Definition</b> <a href="common__cuda_8cu_source.html#l00034">common_cuda.cu:34</a></div></div>
<div class="ttc" id="anamespaceCommunication_html"><div class="ttname"><a href="namespaceCommunication.html">Communication</a></div><div class="ttdef"><b>Definition</b> <a href="core_2communication_8hpp_source.html#l00104">core/communication.hpp:104</a></div></div>
</div><!-- fragment -->
<p>Register a static callback without return value. </p>
<p>This registers a function as an mpi callback. The macro should be used at global scope.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb</td><td>A function </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MpiCallbacks_8hpp_source.html#l00502">502</a> of file <a class="el" href="MpiCallbacks_8hpp_source.html">MpiCallbacks.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="MpiCallbacks_8hpp.html">MpiCallbacks.hpp</a></li>
    <li class="footer">Generated on Sat Nov 1 2025 02:27:00 for ESPResSo by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
